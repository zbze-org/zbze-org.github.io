# OCR и Предобработка Изображений для Кабардино-Черкесского Языка

## Обучение Tesseract
- **Методология обучения**:
  - Парсинг текстов и PDF файлов
  - Сбор предложений и коллокаций слов из текстов.
  - Выборка сложных сочетаний букв.
  - Сбор частотности токенов и искусственное увеличение малочастотных сочетаний в выборке.
  - Обучение на синтетических данных (генерация "псевдоскан" изображений с добавлением аналогичных шумов). 
  - Итеративное добавление проблемных слов.
  - Дообучение на новых шрифтах.

## Предобработка PDF и Изображений 
- **Шаги обработки**:
  - Разделение PDF на JPEG постранично.
  - Разделение макета сдвоенных страниц.
  - Поворот изображений.
  - Сглаживание изображений, устранение шумов.
  - Применение фильтров (`Contrast`, `Brightness`, `Sharpness`). Хорошо помогает с засвеченными и затемненными участками.

- **Что нужно доделать**:
  - выявление дубликатов страниц и смещенный порядок. *Возможно стоит делать на более поздних этапах обработки.*

## OCR Процессинг (Пайплайн в Airflow)
- предобработка pdf -> 
- разделение на изображения -> 
- предобработка изображений -> 
- OCR -> 
- сохранение результатов c метаданными ->
- выделение проблемных мест

**Что нужно доделать**:
- нарезка изображений по координатам и подготовка для аннотирования.
- интеграция с инструментами аннотирования.
- проверка проблемных мест и их валидация.
- итеративное добавление их в обучающую выборку и дообучение модели.
- итеративное расширение словаря и дообучение модели.
- оформить в виде CLI библиотеки для удобства использования без Airflow.